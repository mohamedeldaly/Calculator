<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="display">0</div>
    <button>1</button>
    <button>2</button>
    <button>3</button>
    <button>4</button>
    <button>5</button>
    <button>6</button>
    <button>7</button>
    <button>8</button>
    <button>9</button>
    <button>0</button>
    <button>.</button>
    <button>+</button>
    <button>-</button>
    <button>*</button>
    <button>/</button>
    <button>=</button>
    <button>AC</button>
    <script>
        let firstNumber;
        let operator;
        let secondNumber;
        let first;
        let second = 0;
        let screen = document.querySelector('#display');
        let buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
        button.addEventListener('click', () => {
            if (screen.textContent == "0" && button.textContent != "." && button.textContent != "=") {
                screen.textContent = '';
            }
            if (button.textContent == "1") {
                screen.textContent += '1';
            } else if (button.textContent == "2") {
                screen.textContent += '2';
            } else if (button.textContent == "3") {
                screen.textContent += '3';
            } else if (button.textContent == "4") {
                screen.textContent += '4';
            } else if (button.textContent == "5") {
                screen.textContent += '5';
            } else if (button.textContent == "6") {
                screen.textContent += '6';
            } else if (button.textContent == "7") {
                screen.textContent += '7';
            } else if (button.textContent == "8") {
                screen.textContent += '8';
            } else if (button.textContent == "9") {
                screen.textContent += '9';
            } else if (button.textContent == "0") {
                screen.textContent += '0';
            } else if (button.textContent == "." &&!screen.textContent.includes(".")) {
                screen.textContent += '.';
            }
            if (button.textContent == "-" || button.textContent == "*" || button.textContent == "/" || button.textContent == "+") {
                first = true;
                second ++;
            }
            if (button.textContent == "1" && first == true) {
                screen.textContent = '1';
                first = false;
            } else if (button.textContent == "2" && first == true) {
                screen.textContent = '2';
                first = false;
            } else if (button.textContent == "3" && first == true) {
                screen.textContent = '3';
                first = false;
            } else if (button.textContent == "4" && first == true) {
                screen.textContent = '4';
                first = false;
            } else if (button.textContent == "5" && first == true) {
                screen.textContent = '5';
                first = false;
            } else if (button.textContent == "6" && first == true) {
                screen.textContent = '6';
                first = false;
            } else if (button.textContent == "7" && first == true) {
                screen.textContent = '7';
                first = false;
            } else if (button.textContent == "8" && first == true) {
                screen.textContent = '8';
                first = false;
            } else if (button.textContent == "9" && first == true) {
                screen.textContent = '9';
                first = false;
            } else if (button.textContent == "0" && first == true) {
                screen.textContent = '0';
                first = false;
            } else if (button.textContent == "." && first == true) {
                screen.textContent = '0.';
                first = false;
            }
            if (second == 0) {
                firstNumber = Number(screen.textContent);
            }
            if (second == 1) {
                secondNumber = Number(screen.textContent);
            }
            if (second > 1) {
                firstNumber = screen.textContent = operate(firstNumber, secondNumber, operator);
                second = 1;
            }
            if (button.textContent == "+") {
                operator = "+";
            } else if (button.textContent == "-") {
                operator = '-'
            } else if (button.textContent == "*") {
                operator = '*'
            } else if (button.textContent == "/") {
                operator = '/'
            }
            if (button.textContent == "=" && first == false && secondNumber != undefined) {
                screen.textContent = operate(firstNumber, secondNumber, operator);
            }
            if (button.textContent == "AC") {
                screen.textContent = '0';
                firstNumber = undefined;
                operator = undefined;
                secondNumber = undefined;
                first = undefined;
                second = 0;
            }
        })
    });
        function add(num1, num2) {
            let result = 0;
            result = num1 + num2;
            return Math.round(result * 10000) / 10000
        }
        function subtract(num1, num2) {
            let result = 0;
            result = num1 - num2;
            return Math.round(result * 10000) / 10000
        }
        function multiply(num1, num2) {
            let result = 0;
            result = num1 * num2;
            return Math.round(result * 10000) / 10000
        }
        function divide(num1, num2) {
            let result = 0;
            if (num2 == 0) {
                return "Error"
            }
            result = num1 / num2;
            return Math.round(result * 10000) / 10000
        }
        function operate(num1, num2, operator) {
            if (operator == "+") {
                return add(num1, num2);
            } else if (operator == "-") {
                return subtract(num1, num2);
            } else if (operator == "*") {
               return  multiply(num1, num2);
            } else if (operator == "/") {
                return divide(num1, num2);
            }
        }
    </script>
</body>
</html>